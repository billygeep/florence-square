{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["(function () {\n  class ImageLoader {\n    constructor() {\n      this.srcs = document.getElementsByClassName(\"load-src\");\n      this.imageArray = [];\n      for (let i = 0; i < this.srcs.length; i++) {\n        this.imageArray.push(this.srcs[i].src);\n      }\n    }\n\n    async loadImages() {\n      return new Promise((resolve) => {\n        let loaded = 0;\n\n        for (let i = 0; i < this.imageArray.length; i++) {\n          const image = new Image();\n\n          image.addEventListener(\"load\", () => {\n            loaded++;\n            if (loaded == this.imageArray.length) resolve();\n          });\n          image.src = `${this.imageArray[i]}`;\n        }\n      });\n    }\n  }\n\n  class Main {\n    constructor() {\n      document.documentElement.scrollTop = 0;\n\n      this.imageLoader = new ImageLoader();\n\n      this.appinner = document.getElementById(\"app-inner\");\n      this.app = document.getElementById(\"app\");\n      this.background = document.getElementById(\"background\");\n      this.slogan = document.getElementById(\"slogan\");\n      this.logo = document.getElementById(\"logo\");\n      this.logoMask = document.getElementById(\"logo-mask\");\n      this.contentDate = document.getElementById(\"content-date\");\n      this.bgscroll = document.getElementById(\"bg-scroll\");\n      this.contact = document.getElementById(\"contact\");\n\n      this.lineTop = document.getElementById(\"line-top\");\n      this.lineBottom = document.getElementById(\"line-bottom\");\n      this.contentDateTop = this.contentDate.offsetTop;\n      this.sloganScale = 0;\n      this.slogan.style.transform = `scale(${this.sloganScale}, ${this.sloganScale})`;\n      this.logoTop = 50;\n      this.logoStartHeight = this.logo.clientHeight;\n      this.logoEndHeight = 50;\n      this.logoHeight = this.logoStartHeight;\n      this.scrollText = document.getElementById(\"line-text\");\n\n      this.positionScrollText();\n\n      document.addEventListener(\"scroll\", (event) => {\n        this.positionScrollText();\n\n        const introPercent =\n          window.scrollY > window.innerHeight / 1.5\n            ? 1\n            : window.scrollY / (window.innerHeight / 1.5);\n\n        this.sloganScale = introPercent;\n        this.logoTop = 52 - introPercent * 50;\n\n        const inverse = 1 - introPercent;\n\n        this.logoHeight =\n          this.logoStartHeight * inverse < this.logoEndHeight\n            ? this.logoEndHeight\n            : inverse * this.logoStartHeight;\n\n        this.slogan.style.transform = `scale(${this.sloganScale}, ${this.sloganScale})`;\n\n        this.logo.style.transform = `translate3d(-50%, -${this.logoTop}%, 0)`;\n        this.logo.style.top = `${this.logoTop}%`;\n        this.logo.style.height = `${this.logoHeight}px`;\n        const bgscale =\n          1 + window.scrollY / (this.app.clientHeight + window.innerHeight) < 1\n            ? 1\n            : 1 + window.scrollY / (this.app.clientHeight + window.innerHeight);\n\n        this.background.style.transform = `scale(${bgscale}, ${bgscale})`;\n\n        this.setAlpha(this.contentDate);\n        this.setAlpha(this.contact);\n      });\n\n      setTimeout(() => {\n        this.imageLoader.loadImages().then(() => {\n          this.background.style.opacity = 1;\n          setTimeout(() => {\n            this.logoMask.style.width = \"100%\";\n            this.logoMask.classList.add(\"active\");\n            this.app.classList.add(\"can-scroll\");\n          }, 1000);\n          setTimeout(() => {\n            this.bgscroll.style.transform = \"translateY(0)\";\n          }, 2000);\n        });\n      }, 500);\n    }\n\n    positionScrollText() {\n      const scrollPercent =\n        window.scrollY / (this.appinner.clientHeight - window.innerHeight);\n\n      const scrollTextSize = 64 / window.innerHeight;\n      this.lineTop.style.height = this.lineTop.style.setProperty(\n        \"height\",\n        `calc(${100 - scrollPercent * 100}% - 40px`\n      );\n\n      this.lineBottom.style.setProperty(\n        \"height\",\n        `calc(${scrollPercent * 100}% - 40px`\n      );\n\n      this.scrollText.style.bottom = `${scrollPercent * 100}%`;\n    }\n\n    setAlpha(_div) {\n      const alphaStartY = _div.offsetTop - window.innerHeight;\n\n      let alpha =\n        window.scrollY > alphaStartY ? (window.scrollY - alphaStartY) / 430 : 0;\n\n      if (alpha > 1) alpha = 1;\n      _div.style.opacity = alpha;\n    }\n  }\n\n  const main = new Main();\n})();\n"],"names":["ImageLoader","constructor","this","srcs","document","getElementsByClassName","imageArray","i","length","push","src","async","Promise","resolve","loaded","image","Image","addEventListener","documentElement","scrollTop","imageLoader","appinner","getElementById","app","background","slogan","logo","logoMask","contentDate","bgscroll","contact","lineTop","lineBottom","contentDateTop","offsetTop","sloganScale","style","transform","logoTop","logoStartHeight","clientHeight","logoEndHeight","logoHeight","scrollText","positionScrollText","event","introPercent","window","scrollY","innerHeight","inverse","top","height","bgscale","setAlpha","setTimeout","loadImages","then","opacity","width","classList","add","scrollPercent","setProperty","bottom","_div","alphaStartY","alpha"],"version":3,"file":"index.a456cfd1.js.map"}